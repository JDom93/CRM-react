(this["webpackJsonpcreate-music-codingtest"]=this["webpackJsonpcreate-music-codingtest"]||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"ProductionType":["Background","Commercials","Corporate","Nature","Product Videos","Travel"],"Keyword":["Building","Calm","Emotional","Energetic","Gentle","Hopeful","Inspirational","Motivating","Positive","Reflective","Soft","Triumphant","Uplifting"],"Alben":["On The Rise"],"Instrument":["Bass (Electric)","Brass","Drums","Guitar (Electric)","Percussion","Piano","Strings","Synthesizer"],"Style":["Building","Corporate/Technology","Filmmusic","Transportation"]}')},26:function(e,t,a){e.exports=a(59)},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),l=a.n(r),i=a(5),s=a.n(i),o=a(9),u=a(3),m=a(1);function f(e){return{type:"SET_CURRENT_PLAYTIME",currentPlaytime:e}}var E=a(23),p=function(e){var t=e.filters,a=e.findMusic,n=e.setQuery;if(!t)return console.log("no filters"),null;var r=t.Alben,l=t.Instrument,i=t.Keyword,s=t.ProductionType,o=t.Style;return c.a.createElement("div",{id:"suggestions",className:"search-suggestions"},i&&0!=i.length&&c.a.createElement("div",{className:"suggestion",id:"keywords"},c.a.createElement("h3",null,"Keywords"),c.a.createElement("ul",{id:"list-keywords"},i.slice(0,15).map((function(e){return c.a.createElement("li",{className:"suggestion-item",key:e,onClick:function(e){a(e,e.target.textContent),n(e.target.textContent)}},e)})))),r&&0!=r.length&&c.a.createElement("div",{className:"suggestion",id:"albums"},c.a.createElement("h3",null,"Albums"),c.a.createElement("ul",{id:"list-albums"},r.slice(0,15).map((function(e){return c.a.createElement("li",{className:"suggestion-item",key:e,onClick:function(e){a(e,e.target.textContent),n(e.target.textContent)}},e)})))),l&&0!=l.length&&c.a.createElement("div",{className:"suggestion",id:"instruments"},c.a.createElement("h3",null,"Instruments"),c.a.createElement("ul",{id:"list-instruments"},l.slice(0,15).map((function(e){return c.a.createElement("li",{className:"suggestion-item",key:e,onClick:function(e){a(e,e.target.textContent),n(e.target.textContent)}},e)})))),o&&0!=o.length&&c.a.createElement("div",{className:"suggestion",id:"styles"},c.a.createElement("h3",null,"Styles"),c.a.createElement("ul",{id:"list-styles"},o.slice(0,15).map((function(e){return c.a.createElement("li",{className:"suggestion-item",key:e,onClick:function(e){a(e,e.target.textContent),n(e.target.textContent)}},e)})))),s&&0!=s.length&&c.a.createElement("div",{className:"suggestion",id:"production"},c.a.createElement("h3",null,"Production"),c.a.createElement("ul",{id:"list-productions"},s.slice(0,15).map((function(e){return c.a.createElement("li",{className:"suggestion-item",key:e,onClick:function(e){a(e,e.target.textContent),n(e.target.textContent)}},e)})))))},d=a(7),g=a.n(d),v=function(){var e=Object(m.b)(),t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(null),f=Object(u.a)(i,2),d=f[0],v=f[1],y=Object(n.useState)(0),h=Object(u.a)(y,2),b=h[0],O=h[1];Object(n.useEffect)((function(){var e=!1;function t(){return(t=Object(o.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,g.a.get("https://api.createmusic.com/search?search=".concat(r,"&mutliLayerOnly=").concat(b));case 4:a=t.sent,n=a.data.filters,e||v(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}}),[r,b]);var N=function(){var t=Object(o.a)(s.a.mark((function t(a,n){var c,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),!n&&r&&(n=r),n||r||v(E),t.next=5,g.a.get("https://api.createmusic.com/search?search=".concat(n,"&mutliLayerOnly=").concat(b));case 5:c=t.sent,(l=c.data)&&e({type:"STORE_RESPONSE",lastResponse:l});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return c.a.createElement("aside",{className:"container-search"},c.a.createElement("div",{className:"search-tool"},c.a.createElement("h3",null,"Search Music"),c.a.createElement("form",{id:"search-form",onSubmit:N},c.a.createElement("input",{autocomplete:"off",type:"text",id:"search-input",value:r,onChange:function(e){l(e.target.value)}}),c.a.createElement("label",{for:"multilayer",className:"checkbox-label"},c.a.createElement("input",{type:"checkbox",name:"multilayer",id:"multilayer",onChange:function(e){var t=e.target.checked?1:0;O(t)}}),c.a.createElement("span",{className:"checkbox"}),"Multilayer"),d&&c.a.createElement(p,{filters:d,findMusic:N,setQuery:l}))))},y=function(e){var t=e.track,a=Object(m.b)(),r=Object(n.useRef)(null),l=Object(m.c)((function(e){return e.currentPlaytime})),i=Object(m.c)((function(e){return e.currentTrack||{}})),s=Object(m.c)((function(e){return e.waveformPercentage})),o=Object(n.useState)(0),E=Object(u.a)(o,2),p=E[0],d=E[1];Object(n.useEffect)((function(){if(t.cueID!=i.cueID)return d(0);if(r){r.current.getBoundingClientRect();d(l),d(s)}}),[i,l,s]);return c.a.createElement("div",{className:"content-result"},c.a.createElement("div",{className:"content-description"},c.a.createElement("h3",null,t.cueName),c.a.createElement("p",null,t.albumName)),c.a.createElement("div",{onClick:function(e){var n=r.current.getBoundingClientRect(),c=e.clientX-n.left;a(function(e){return{type:"SET_CURRENT_TRACK",currentTrack:e}}(t)),a(f(100*c/n.width))},className:"content-waveform-container",ref:r},c.a.createElement("img",{class:"content-waveform",src:t.waveformPreview,alt:"waveform",style:{clipPath:"inset(0 0 0 ".concat(p,"%)")}}),c.a.createElement("img",{class:"content-waveform-overlay",src:t.waveformPreview,alt:"",style:{clipPath:"inset(0 ".concat(100-p,"% 0 0)")}})),c.a.createElement("p",{className:"content-tags"},t.cueStyles.join(", ")))},h=function(){var e=Object(m.c)((function(e){return e.response&&e.response.cueData})),t=Object(m.c)((function(e){return e.response&&e.response.searchCueIDs})),a=Object(n.useState)([]),r=Object(u.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){if(t){var a=t.slice(0,50).map((function(t){return e[t]}));i(a)}}),[t]),c.a.createElement("main",{id:"content-results",className:"content-results"},l&&l.map((function(e){return c.a.createElement(y,{track:e})})))},b=function(){var e=Object(m.b)(),t=Object(n.useRef)({}),a=Object(n.useRef)({}),r=Object(m.c)((function(e){return e.currentTrack})),l=Object(m.c)((function(e){return e.currentPlaytime||0})),i=Object(n.useState)(0),s=Object(u.a)(i,2),o=s[0],E=s[1],p=Object(n.useState)(!1),d=Object(u.a)(p,2),g=d[0],v=d[1];Object(n.useEffect)((function(){var e=a.current;e&&r&&(e.currentTime=r.fullDuration*(l/100)/1e3,E(l))}),[l,a,r]),Object(n.useEffect)((function(){var t=a.current;t&&r&&(t.addEventListener("ended",(function(){t.pause(),t.currentTime=0})),t.addEventListener("play",(function(){v(!0)})),t.addEventListener("timeupdate",(function(){var a=100*t.currentTime*1e3/r.fullDuration;E(a),e({type:"SET_WAVEFORM_COLOR",waveformPercentage:a})})))}),[a,r]);return c.a.createElement("div",{id:"content-player",className:"content-player"},c.a.createElement("div",{className:"content-player-button"},c.a.createElement("i",{onClick:function(){if(r){var e=a.current;g?(v(!1),e.pause()):(v(!0),e.play())}},id:"audio-play",className:g?"far fa-pause-circle fa-2x":"far fa-play-circle fa-2x"}),c.a.createElement("i",{onClick:function(){g&&(v(!1),a.current.pause(),a.current.currentTime=0)},id:"audio-stop",className:"far fa-stop-circle fa-2x",style:g?{color:"var(--color-text)"}:{color:"var(--color-light)"}})),r&&c.a.createElement("div",{onClick:function(a){var n=t.current.getBoundingClientRect(),c=a.clientX-n.left;e(f(100*c/n.width))},className:"content-waveform-container",ref:t},c.a.createElement("img",{class:"content-waveform",src:r.waveformPreview,alt:"waveform",style:{clipPath:"inset(0 0 0 ".concat(o,"%)")}}),c.a.createElement("img",{class:"content-waveform-overlay",src:r.waveformPreview,alt:"",style:{clipPath:"inset(0 ".concat(100-o,"% 0 0)")}}),c.a.createElement("audio",{autoplay:"true",src:r.fullLengthPreview,ref:a})))},O=function(){return c.a.createElement("div",{className:"container-content"},c.a.createElement("nav",null,c.a.createElement("div",{class:"logo-wrapper"},c.a.createElement("img",{className:"logo-image",src:"https://www.createmusic.com/wp-content/themes/Avada-Child-Theme/images/CM-logo-final-white_wide.svg",alt:"CREATE MUSIC APP"})),c.a.createElement("ul",{className:"menu-profile"},c.a.createElement("li",{id:"login"},"Login"),c.a.createElement("li",{id:"menu"},"Menu"),c.a.createElement("li",{id:"icon"},c.a.createElement("i",{className:"fas fa-user-circle fa-2x"})))),c.a.createElement("section",{className:"content-main"},c.a.createElement("header",{className:"content-filter"},c.a.createElement("h3",null,"Search Results ",c.a.createElement("span",{id:"num-results"})),c.a.createElement("ul",{id:"content-filters",className:"content-filter-list"},c.a.createElement("li",{className:"filter-active",id:"filter-tracks"},"Tracks"),c.a.createElement("li",{id:"filter-albums"},"Albums"),c.a.createElement("li",{id:"filter-favorites"},"Favorites"),c.a.createElement("li",{id:"filter-playlists"},"Playlists"))),c.a.createElement("hr",{className:"content-separator"}),c.a.createElement(h,null),c.a.createElement("hr",{className:"content-separator"}),c.a.createElement(b,null)))},N=(a(54),a(4)),j=a(24),w=a.n(j),C=a(25),T=Object(N.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"STORE_RESPONSE"==t.type?Object.assign({},e,{response:t.lastResponse}):"SET_CURRENT_TRACK"==t.type?Object.assign({},e,{currentTrack:t.currentTrack}):"SET_CURRENT_PLAYTIME"==t.type?Object.assign({},e,{currentPlaytime:t.currentPlaytime}):"SET_WAVEFORM_COLOR"==t.type?Object.assign({},e,{waveformPercentage:t.waveformPercentage}):e}),Object(C.composeWithDevTools)(Object(N.applyMiddleware)(w.a)));var k=function(){return c.a.createElement(m.a,{store:T},c.a.createElement("div",{className:"container-main"},c.a.createElement(v,null),c.a.createElement(O,null)))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.6742fe68.chunk.js.map